---
// No server-side imports needed yet
---
<main>
	<h1>Is It Nice Here?</h1>
	<textarea id="locationInput" placeholder="Enter a location"></textarea>
	<button id="submitButton">Check</button>
	<div id="result"></div>
  
	<script>
	  const submitButton = document.getElementById('submitButton');
	  if (submitButton) {
		submitButton.addEventListener('click', async () => {
		  const locationInput = document.getElementById('locationInput');
		  const location = locationInput ? (locationInput as HTMLTextAreaElement).value : '';
		  const response = await fetch('/api/check', {
			method: 'POST',
			headers: { 'Content-Type': 'application/json' },
			body: JSON.stringify({ location }),
		  });
		  const data = await response.json();
		  const resultElement = document.getElementById('result');
		  if (resultElement) {
			resultElement.innerText = data.result;
		  }
		});
	  }
	</script>
  </main>